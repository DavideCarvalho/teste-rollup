!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function i(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function t(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return e.dispatchEvent(new CustomEvent(t,function(o){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{},t=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(c).filter(function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable}))),t.forEach(function(e){var t,n,r;t=o,r=c[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return o}({bubbles:!1},n)))}function e(){var n=new WeakMap;return{get:function(e,t){return n.has(e)?n.get(e):(void 0!==t&&n.set(e,t),t)},set:function(e,t){return n.set(e,t),t}}}function b(e,t){var n=window.ShadyCSS;return n&&!n.nativeShadow?e(n):t}function m(e){var t=String(e.tagName).toLowerCase();return"<".concat(t,">")}var g="ActiveXObject"in global;function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=function(e){return e},l=function(e){if("object"!==u(e))throw TypeError("[property] Argument is not an object: ".concat("undefined"==typeof v?"undefined":u(v)));return e&&Object.freeze(e)};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=new WeakMap,d=new WeakMap,p=1e3/60,y=[];function c(e){var t=e.composedPath()[0];t===e.currentTarget&&(y[0]||requestAnimationFrame(function(){return function t(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e&&performance.now()-e>p)requestAnimationFrame(function(){return t(n)});else{var r=y[n],o=performance.now();if(r){if(s.has(r)){var c=s.get(r),a=d.get(r);try{var i=r[c];i!==a&&(d.set(r,i),i(),a||b(function(e){return e.styleElement(r)}))}catch(e){throw t(n+1,o),e}}t(n+1,o)}else b(function(t){return y.forEach(function(e){return t.styleSubtree(e)})}),y=[]}}()}),-1===y.indexOf(t)&&y.push(t))}function a(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof n)throw TypeError("[render] The first argument must be a function: ".concat(o(n)));var r=function(o){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{},t=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(c).filter(function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable}))),t.forEach(function(e){var t,n,r;t=o,r=c[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return o}({shadowRoot:!0},e);return{get:function(e){var t=n(e);return function(){return t(e,r.shadowRoot?e.shadowRoot:e)}},connect:function(e,t){if(s.has(e))throw Error("[render] Render factory already used in '".concat(s.get(e),"' key"));if(r.shadowRoot&&!e.shadowRoot){var n={mode:"open"};"object"===o(r.shadowRoot)&&Object.assign(n,r.shadowRoot),e.attachShadow(n)}return e.addEventListener("@invalidate",c),s.set(e,t),function(){e.removeEventListener("@invalidate",c),s.delete(e)}}}}var h=new WeakMap;function w(e,t){var n=h.get(e);n||(n=new Map,h.set(e,n));var r=n.get(t);return r||(r={target:e,key:t,value:void 0,deps:new Set,state:1,checksum:0},n.set(t,r)),r}function E(e){var t=e.state,n=e.deps,r=t;return n.forEach(function(e){e.target[e.key],r+=e.state}),r}var S=null;function N(e,t,n){if(S)throw S=null,Error("[cache] Try to invalidate '".concat(t,"' in '").concat(m(e),"' get call"));var r=w(e,t);r.checksum=0,n&&(r.value=void 0)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function x(e){var r="function"==typeof Map?new Map:void 0;return(x=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e;var t;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,n)}function n(){return k(e,arguments,C(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),T(n,e)})(e)}function k(e,t,n){return(k=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&T(o,n.prototype),o}).apply(null,arguments)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){t(e,"@invalidate",{bubbles:!0,composed:!0})}var P,_=function(e,t){return t};function R(t,o){t.hybrids=o,t.connects=[],Object.keys(o).forEach(function(n){var r=o[n],e=A(r);"function"===e?r="render"===n?a(r):{get:r}:null!==r&&"object"===e&&("object"!==e||r.get||r.set)||(r=function(c,a){var e=u(c),r=f;switch(e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"function":c=(r=c)();break;case"object":c&&Object.freeze(c),r=l}return{get:function(e){return 1<arguments.length&&void 0!==arguments[1]?arguments[1]:c},set:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c,n=2<arguments.length?arguments[2]:void 0;return r(t,n)},connect:"object"!==e&&"undefined"!==e?function(e,t,n){if(e[t]===c){var r=i(t);if(e.hasAttribute(r)){var o=e.getAttribute(r);e[t]=""===o||o}}return a&&a(e,t,n)}:a}}(r)),r.get=r.get||_,Object.defineProperty(t.prototype,n,{get:function(){return function(e,t,n){var r=w(e,t);if(S===r)throw S=null,Error("[cache] Circular '".concat(t,"' get invocation in '").concat(m(e),"'"));S&&S.deps.add(r);var o=S;if((S=r).checksum&&r.checksum===E(r))return S=o,r.value;r.deps.clear();try{var c=n(e,r.value);c!==r.value&&(r.state+=1,r.value=c),r.checksum=E(r),S=o}catch(e){throw S=null,e}return r.value}(this,n,r.get)},set:r.set&&function(e){var t=this;!function(e,t,n,r,o){if(S)throw S=null,Error("[cache] Try to set '".concat(t,"' of '").concat(m(e),"' in get call"));var c=w(e,t),a=n(e,r,c.value);a!==c.value&&(c.state+=1,c.value=a,o())}(this,n,r.set,e,function(){return M(t)})},enumerable:!0,configurable:"production"!==process.env.NODE_ENV}),r.connect&&t.connects.push(function(e){return r.connect(e,n,function(){(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])&&N(e,n),M(e)})})})}if("production"!==process.env.NODE_ENV){var r=new Map;P=function(e,t){r.size||Promise.resolve().then(function(){!function t(e,n){n(e),Array.from(e.children).forEach(function(e){return t(e,n)}),e.shadowRoot&&Array.from(e.shadowRoot.children).forEach(function(e){return t(e,n)})}(document.body,function(t){if(r.has(t.constructor)){var n=r.get(t.constructor);t.disconnectedCallback(),Object.keys(t.constructor.hybrids).forEach(function(e){N(t,e,t[e]===n[e])}),t.connectedCallback(),M(t)}}),r.clear()}),r.set(e,t)}}var L=new WeakMap;function D(c,e){var t=A(e);if("object"!==t&&"function"!==t)throw TypeError("[define] Invalid second argument. It must be an object or a function");var n=window.customElements.get(c);if("function"===t)return n!==e?window.customElements.define(c,e):n;if(n){if(n.hybrids===e)return n;if("production"!==process.env.NODE_ENV&&n.hybrids){Object.keys(n.hybrids).forEach(function(e){delete n.prototype[e]});var r=n.hybrids;return R(n,e),P(n,r),n}throw Error("[define] Element '".concat(c,"' already defined"))}var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,C(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,x(HTMLElement)),n=t,o=[{key:"name",get:function(){return c}}],(r=[{key:"connectedCallback",value:function(){var r=this,e=this.constructor.connects.reduce(function(e,t){var n=t(r);return n&&e.add(n),e},new Set);L.set(this,e),M(this)}},{key:"disconnectedCallback",value:function(){L.get(this).forEach(function(e){return e()})}}])&&O(n.prototype,r),o&&O(n,o),t}();return R(o,e),customElements.define(c,o),o}function n(o){return Object.keys(o).reduce(function(e,t){var n,r=i(n=(n=t)[0].toLowerCase()+n.slice(1));return e[t]=D(r,o[t]),e},{})}function W(){return"object"===A(arguments.length<=0?void 0:arguments[0])?n(arguments.length<=0?void 0:arguments[0]):D.apply(void 0,arguments)}var B=new WeakMap;function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,o,c,t){if(null===c||"object"!==F(c))throw TypeError("Style value must be an object instance");var a=t.styleMap||new Map;t.styleMap=Object.keys(c).reduce(function(e,t){var n=i(t),r=c[t];return r||0===r?o.style.setProperty(n,r):o.style.removeProperty(n),e.set(n,r),a.delete(n),e},new Map),a.forEach(function(e,t){o.style[t]=""})}function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n,r){var o=r.classSet||new Set,c=function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Set;return Array.isArray(t)?t.forEach(function(e){return n.add(e)}):null!==t&&"object"===z(t)?Object.keys(t).forEach(function(e){return t[e]&&n.add(e)}):n.add(t),n}(n);(r.classSet=c).forEach(function(e){t.classList.add(e),o.delete(e)}),o.forEach(function(e){t.classList.remove(e)})}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,c=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw c}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("@invalidate",function(e){var t=B.get(e.composedPath()[0]);t&&t.forEach(function(e){return e()})});var I=e();function $(e){for(var t;e&&(t=I.get(e))&&t.endNode;)e=t.endNode;return e}function G(e){var t=I.get(e),n=t.startNode;if(n)for(var r=n,o=$(t.endNode).nextSibling;r;){var c=r.nextSibling;r.parentNode.removeChild(r),r=c!==o&&c}}function U(e,t,n){var r=Array.isArray(n)?"array":q(n),o=I.get(t,{});switch(o.type!==r&&(G(t),o=I.set(t,{type:r}),""!==t.textContent&&(t.textContent="")),r){case"function":n(e,t);break;case"array":!function(u,e,t){var f=e,l=t.length-1,s=I.get(e),d=s.arrayEntries,n=t.map(function(e,t){return[Object.prototype.hasOwnProperty.call(e,"id")?e.id:t,e]});if(d){var r=new Set;n.forEach(function(e){var t=X(e,1),n=t[0];return r.add(n)}),d.forEach(function(e){var t=e.id,n=e.placeholder;r.has(t)||(G(n),n.parentNode.removeChild(n),e.available=!1)})}s.arrayEntries=n.reduce(function(e,t,n){var r,o=X(t,2),c=o[0],a=o[1],i=d&&d.find(function(e){return e.available&&e.id===c});return i?(i.available=!1,(r=i.placeholder).previousSibling!==f&&function(e,t){var n=I.get(e),r=n.startNode,o=$(n.endNode);t.parentNode.insertBefore(e,t.nextSibling);for(var c=e,a=r;a;){var i=a.nextSibling;c.parentNode.insertBefore(a,c.nextSibling),c=a,a=i!==o.nextSibling&&i}}(r,f)):(r=document.createTextNode(""),f.parentNode.insertBefore(r,f.nextSibling)),U(u,r,a),f=$(I.get(r).endNode||r),0===n&&(s.startNode=r),n===l&&(s.endNode=f),e.push({available:!0,id:c,placeholder:r}),e},[]),d&&d.forEach(function(e){var t=e.available,n=e.placeholder;t&&(G(n),n.parentNode.removeChild(n))})}(e,t,n);break;default:n!==o.value&&(o.value=n,t.textContent="number"===r||n?n:"")}}var Z=Date.now(),J=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return"{{h-".concat(Z,"-").concat(e,"}}")},K=J("(\\d+)"),Q=new RegExp("^".concat(K,"$")),Y=new RegExp(K,"g"),ee="--".concat(Z,"--"),te=new RegExp(ee,"g"),ne=new WeakMap;var re="object"===q(window.ShadyDOM)&&window.ShadyDOM.inUse?function(e){var t;return{get currentNode(){return t},nextNode:function(){return!!(t=void 0===t?e.childNodes[0]:t.childNodes.length?t.childNodes[0]:t.nextSibling?t.nextSibling:t.parentNode.nextSibling)}}}:function(e){return document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1)},oe=document.createElement("div");function ce(c,l){var r,e,v=document.createElement("template"),h=[],t=(e=(r=c).reduce(function(e,t,n){return 0===n?t:r.slice(n).join("").match(/\s*<\/\s*(table|tr|thead|tbody|tfoot|colgroup)>/)?"".concat(e,"\x3c!--").concat(J(n-1),"--\x3e").concat(t):e+J(n-1)+t},""),g?e.replace(/style\s*=\s*(["][^"]+["]|['][^']+[']|[^\s"'<>/]+)/g,function(e){return"".concat(ee).concat(e)}):e);if(l&&(t="<svg>".concat(t,"</svg>")),g?v.innerHTML=t:(oe.innerHTML="<template>".concat(t,"</template>"),v.content.appendChild(oe.children[0].content)),l){var n=v.content.firstChild;v.content.removeChild(n),Array.from(n.childNodes).forEach(function(e){return v.content.appendChild(e)})}!function(e){for(var t,n=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!1);t=n.nextNode();)Q.test(t.textContent)&&(t.parentNode.insertBefore(document.createTextNode(t.textContent),t),t.parentNode.removeChild(t))}(v.content);for(var a=re(v.content),s=0,o=function(){var r=a.currentNode;if(r.nodeType===Node.TEXT_NODE){var e=r.textContent;if(!e.match(Q)){var t=e.match(Y);if(t){var n=r;t.reduce(function(e,t){var n=X(e.pop().split(t),2),r=n[0],o=n[1];return r&&e.push(r),e.push(t),o&&e.push(o),e},[e]).forEach(function(e,t){0===t?n.textContent=e:n=n.parentNode.insertBefore(document.createTextNode(e),n.nextSibling)})}}var o=r.textContent.match(Q);o&&(g||(r.textContent=""),h[o[1]]=[s,U])}else r.nodeType===Node.ELEMENT_NODE&&Array.from(r.attributes).forEach(function(e){var a=e.value.trim(),i=g?e.name.replace(ee,""):e.name,t=a.match(Q);if(t){var n=c[t[1]].replace(/\s*=\s*['"]*$/g,"").split(" ").pop();h[t[1]]=[s,function(o,c,a){if("on"===c.substr(0,2)){var i=new WeakMap,t=c.substr(2);return function(o,c,e){i.has(c)||c.addEventListener(t,function(){for(var e=i.get(c),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e&&e.apply(void 0,[o].concat(n))}),i.set(c,e)}}switch(o){case"style":return H;case"class":return V;default:return function(e,t,n){if(a||t instanceof SVGElement||!(c in t))if(!1===n||null==n)t.removeAttribute(o);else{var r=!0===n?"":String(n);t.getAttribute(o)!==r&&t.setAttribute(o,r)}else t[c]!==n&&(t[c]=n)}}}(i,n,l)],r.removeAttribute(e.name)}else{var u=a.match(Y);if(u){var f="attr__".concat(i);u.forEach(function(o,c){var e=X(o.match(Q),2)[1];h[e]=[s,function(e,t,n){var r=I.get(t,{});r[f]=(r[f]||a).replace(o,null==n?"":n),1!==u.length&&c+1!==u.length||(t.setAttribute(i,r[f]),r[f]=void 0)}]}),e.value="",g&&i!==e.name&&(r.removeAttribute(e.name),r.setAttribute(i,""))}}});s+=1};a.nextNode();)o();return function(o,t,c){var a,i,u=I.get(t,{type:"function"});if(v!==u.template){u.template&&G(t);var e=document.importNode((a=v,i=o.tagName,i?b(function(e){var t=ne.get(a);t||(t=new Map,ne.set(a,t));var n=t.get(i);if(!n){(n=document.createElement("template")).content.appendChild(a.content.cloneNode(!0)),t.set(i,n);var r=n.content.querySelectorAll("style");Array.from(r).forEach(function(e){for(var t=e.childNodes.length+1,n=0;n<t;n+=1)e.parentNode.insertBefore(document.createTextNode(J()),e)}),e.prepareTemplate(n,i.toLowerCase())}return n},a):a).content,!0),n=re(e),r=h.slice(0),f=0,l=r.shift(),s=[];for(Object.assign(u,{template:v,markers:s});n.nextNode();){var d=n.currentNode;if(d.nodeType===Node.TEXT_NODE)Q.test(d.textContent)?d.textContent="":g&&(d.textContent=d.textContent.replace(te,""));else if("production"!==process.env.NODE_ENV&&d.nodeType===Node.ELEMENT_NODE&&-1<d.tagName.indexOf("-")&&!customElements.get(d.tagName.toLowerCase()))throw Error("[html] Missing '".concat(m(d),"' element definition in '").concat(m(o),"'"));for(;l&&l[0]===f;)s.push([d,l[1]]),l=r.shift();f+=1}var p=Array.from(e.childNodes);if(u.startNode=p[0],u.endNode=p[p.length-1],t.nodeType===Node.TEXT_NODE){var y=t;p.forEach(function(e){t.parentNode.insertBefore(e,y.nextSibling),y=e})}else t.appendChild(e)}u.markers.forEach(function(e,t){var n=X(e,2),r=n[0];(0,n[1])(o,r,c[t],u)})}}var ae=e();function ie(o,e){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200;return function(t,n){var r;e&&(r=setTimeout(function(){r=void 0,requestAnimationFrame(function(){e(t,n)})},c)),ae.set(n,o),o.then(function(e){r&&clearTimeout(r),ae.get(n)===o&&(e(t,n),ae.set(n,null))})}}function ue(e){return W(e),this}function fe(e){return this.id=e,this}var le=new Map;function se(c,a,i){return Object.assign(function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,r=(t=c,"".concat(i?"svg:":"").concat(t.join(J()))),o=le.get(r);o||(o=ce(c,i),le.set(r,o)),o(e,n,a)},{define:ue,key:fe})}function de(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se(e,n)}function pe(){var e,t,n=(e=["\n    <h1>Hello World</h1>\n  "],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return pe=function(){return n},n}Object.assign(de,{resolve:ie}),Object.assign(function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se(e,n,!0)},{resolve:ie}),W("my-component",{render:function(){return de(pe())}})});
