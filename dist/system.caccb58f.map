{"version":3,"sources":["dist/system.js"],"names":["hasSelf","self","envGlobal","global","baseUrl","location","href","split","lastSepIndex","lastIndexOf","slice","backslashRegEx","resolveIfNotPlainOrUrl","relUrl","parentUrl","indexOf","replace","length","parentProtocol","pathname","segmented","output","segmentIndex","i","push","pop","join","resolveUrl","createPackageMap","json","path_prefix","basePackages","packages","scopes","scopeName","scope","Error","resolvedScopeName","substr","getMatch","path","matchObj","sepIndex","segment","applyPackages","id","pkgName","pkg","main","scopePackages","packageResolution","throwBare","hasSymbol","Symbol","toStringTag","REGISTRY","SystemJS","systemJSPrototype","prototype","import","loader","Promise","resolve","then","load","getOrCreateLoad","C","topLevelLoad","createContext","parentId","url","onload","lastRegister","register","deps","declare","getRegister","_lastRegister","undefined","firstParentUrl","importerSetters","ns","Object","create","defineProperty","value","instantiatePromise","instantiate","registration","_export","name","h","changed","p","declared","importId","meta","e","execute","setters","catch","err","linkPromise","instantiation","all","map","dep","setter","depId","depLoad","I","n","depLoads","d","L","eE","E","instantiateAll","loaded","postOrderExec","nullContext","freeze","seen","depLoadPromises","forEach","depLoadPromise","doExec","execPromise","call","System","err$1","window","addEventListener","error","systemRegister","reject","script","document","createElement","charset","async","crossOrigin","head","removeChild","src","appendChild","importScripts","constructor","firstGlobalProp","secondGlobalProp","lastGlobalProp","getGlobalProp","cnt","lastProp","hasOwnProperty","noteGlobalProps","impt","emptyInstantiation","globalProp","globalExport","parent","fetch","res","ok","status","statusText","WebAssembly","compileStreaming","arrayBuffer","buf","compile","module","importObj","Module","imports","key","m","instance","exports","packageMapPromise","packageMapResolve","scripts","getElementsByTagName","type","JSON","parse","innerHTML","resolvedIfNotPlainOrUrl","get","delete","importerIndex","splice"],"mappings":"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","file":"system.caccb58f.map","sourceRoot":"..","sourcesContent":["/*\n* SystemJS 2.0.2\n*/\n(function () {\n  const hasSelf = typeof self !== 'undefined';\r\n\r\n  const envGlobal = hasSelf ? self : global;\r\n\r\n  let baseUrl;\r\n  if (typeof location !== 'undefined') {\r\n    baseUrl = location.href.split('#')[0].split('?')[0];\r\n    const lastSepIndex = baseUrl.lastIndexOf('/');\r\n    if (lastSepIndex !== -1)\r\n      baseUrl = baseUrl.slice(0, lastSepIndex + 1);\r\n  }\r\n\r\n  const backslashRegEx = /\\\\/g;\r\n  function resolveIfNotPlainOrUrl (relUrl, parentUrl) {\r\n    if (relUrl.indexOf('\\\\') !== -1)\r\n      relUrl = relUrl.replace(backslashRegEx, '/');\r\n    // protocol-relative\r\n    if (relUrl[0] === '/' && relUrl[1] === '/') {\r\n      return parentUrl.slice(0, parentUrl.indexOf(':') + 1) + relUrl;\r\n    }\r\n    // relative-url\r\n    else if (relUrl[0] === '.' && (relUrl[1] === '/' || relUrl[1] === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\r\n        relUrl.length === 1  && (relUrl += '/')) ||\r\n        relUrl[0] === '/') {\r\n      const parentProtocol = parentUrl.slice(0, parentUrl.indexOf(':') + 1);\r\n      // Disabled, but these cases will give inconsistent results for deep backtracking\r\n      //if (parentUrl[parentProtocol.length] !== '/')\r\n      //  throw new Error('Cannot resolve');\r\n      // read pathname from parent URL\r\n      // pathname taken to be part after leading \"/\"\r\n      let pathname;\r\n      if (parentUrl[parentProtocol.length + 1] === '/') {\r\n        // resolving to a :// so we need to read out the auth and host\r\n        if (parentProtocol !== 'file:') {\r\n          pathname = parentUrl.slice(parentProtocol.length + 2);\r\n          pathname = pathname.slice(pathname.indexOf('/') + 1);\r\n        }\r\n        else {\r\n          pathname = parentUrl.slice(8);\r\n        }\r\n      }\r\n      else {\r\n        // resolving to :/ so pathname is the /... part\r\n        pathname = parentUrl.slice(parentProtocol.length + (parentUrl[parentProtocol.length] === '/'));\r\n      }\r\n\r\n      if (relUrl[0] === '/')\r\n        return parentUrl.slice(0, parentUrl.length - pathname.length - 1) + relUrl;\r\n\r\n      // join together and split for removal of .. and . segments\r\n      // looping the string instead of anything fancy for perf reasons\r\n      // '../../../../../z' resolved to 'x/y' is just 'z'\r\n      const segmented = pathname.slice(0, pathname.lastIndexOf('/') + 1) + relUrl;\r\n\r\n      const output = [];\r\n      let segmentIndex = -1;\r\n      for (let i = 0; i < segmented.length; i++) {\r\n        // busy reading a segment - only terminate on '/'\r\n        if (segmentIndex !== -1) {\r\n          if (segmented[i] === '/') {\r\n            output.push(segmented.slice(segmentIndex, i + 1));\r\n            segmentIndex = -1;\r\n          }\r\n        }\r\n\r\n        // new segment - check if it is relative\r\n        else if (segmented[i] === '.') {\r\n          // ../ segment\r\n          if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i + 2 === segmented.length)) {\r\n            output.pop();\r\n            i += 2;\r\n          }\r\n          // ./ segment\r\n          else if (segmented[i + 1] === '/' || i + 1 === segmented.length) {\r\n            i += 1;\r\n          }\r\n          else {\r\n            // the start of a new segment as below\r\n            segmentIndex = i;\r\n          }\r\n        }\r\n        // it is the start of a new segment\r\n        else {\r\n          segmentIndex = i;\r\n        }\r\n      }\r\n      // finish reading out the last segment\r\n      if (segmentIndex !== -1)\r\n        output.push(segmented.slice(segmentIndex));\r\n      return parentUrl.slice(0, parentUrl.length - pathname.length) + output.join('');\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Package name maps implementation\r\n   *\r\n   * Reduced implementation - only a single scope level is supported\r\n   * \r\n   * To make lookups fast we pre-resolve the entire package name map\r\n   * and then match based on backtracked hash lookups\r\n   * \r\n   * path_prefix in scopes not supported\r\n   * nested scopes not supported\r\n   */\r\n\r\n  function resolveUrl (relUrl, parentUrl) {\r\n    return resolveIfNotPlainOrUrl(relUrl, parentUrl) ||\r\n        relUrl.indexOf(':') !== -1 && relUrl ||\r\n        resolveIfNotPlainOrUrl('./' + relUrl, parentUrl);\r\n  }\r\n\r\n  function createPackageMap (json, baseUrl) {\r\n    if (json.path_prefix) {\r\n      baseUrl = resolveUrl(json.path_prefix, baseUrl);\r\n      if (baseUrl[baseUrl.length - 1] !== '/')\r\n        baseUrl += '/';\r\n    }\r\n      \r\n    const basePackages = json.packages || {};\r\n    const scopes = {};\r\n    if (json.scopes) {\r\n      for (let scopeName in json.scopes) {\r\n        const scope = json.scopes[scopeName];\r\n        if (scope.path_prefix)\r\n          throw new Error('Scope path_prefix not currently supported');\r\n        if (scope.scopes)\r\n          throw new Error('Nested scopes not currently supported');\r\n        let resolvedScopeName = resolveUrl(scopeName, baseUrl);\r\n        if (resolvedScopeName[resolvedScopeName.length - 1] === '/')\r\n          resolvedScopeName = resolvedScopeName.substr(0, resolvedScopeName.length - 1);\r\n        scopes[resolvedScopeName] = scope.packages || {};\r\n      }\r\n    }\r\n\r\n    function getMatch (path, matchObj) {\r\n      let sepIndex = path.length;\r\n      do {\r\n        const segment = path.slice(0, sepIndex);\r\n        if (segment in matchObj)\r\n          return segment;\r\n      } while ((sepIndex = path.lastIndexOf('/', sepIndex - 1)) !== -1)\r\n    }\r\n\r\n    function applyPackages (id, packages, baseUrl) {\r\n      const pkgName = getMatch(id, packages);\r\n      if (pkgName) {\r\n        const pkg = packages[pkgName];\r\n        if (pkgName === id) {\r\n          if (typeof pkg === 'string')\r\n            return resolveUrl(pkg, baseUrl + pkgName + '/');\r\n          if (!pkg.main)\r\n            throw new Error('Package ' + pkgName + ' has no main');\r\n          return resolveUrl(\r\n            (pkg.path ? pkg.path + (pkg.path[pkg.path.length - 1] === '/' ? '' : '/') : pkgName + '/') + pkg.main,\r\n            baseUrl\r\n          );\r\n        }\r\n        else {\r\n          return resolveUrl(\r\n            (typeof pkg === 'string' || !pkg.path\r\n              ? pkgName + '/'\r\n              : pkg.path + (pkg.path[pkg.path.length - 1] === '/' ? '' : '/')\r\n            ) + id.slice(pkgName.length + 1)\r\n          , baseUrl);\r\n        }\r\n      }\r\n    }\r\n\r\n    return function (id, parentUrl) {\r\n      const scopeName = getMatch(parentUrl, scopes);\r\n      if (scopeName) {\r\n        const scopePackages = scopes[scopeName];\r\n        const packageResolution = applyPackages(id, scopePackages, scopeName + '/');\r\n        if (packageResolution)\r\n          return packageResolution;\r\n      }\r\n      return applyPackages(id, basePackages, baseUrl) || throwBare(id, parentUrl);\r\n    };\r\n  }\r\n\r\n  function throwBare (id, parentUrl) {\r\n    throw new Error('Unable to resolve bare specifier \"' + id + (parentUrl ? '\" from ' + parentUrl : '\"'));\r\n  }\n\n  /*\r\n   * SystemJS Core\r\n   * \r\n   * Provides\r\n   * - System.import\r\n   * - System.register support for\r\n   *     live bindings, function hoisting through circular references,\r\n   *     reexports, dynamic import, import.meta.url, top-level await\r\n   * - System.getRegister to get the registration\r\n   * - Symbol.toStringTag support in Module objects\r\n   * - Hookable System.createContext to customize import.meta\r\n   * - System.onload(id, err?) handler for tracing / hot-reloading\r\n   * \r\n   * Core comes with no System.prototype.resolve or\r\n   * System.prototype.instantiate implementations\r\n   */\r\n\r\n  const hasSymbol = typeof Symbol !== 'undefined';\r\n  const toStringTag = hasSymbol && Symbol.toStringTag;\r\n  const REGISTRY = hasSymbol ? Symbol() : '@';\r\n\r\n  function SystemJS () {\r\n    this[REGISTRY] = {};\r\n  }\r\n\r\n  const systemJSPrototype = SystemJS.prototype;\r\n  systemJSPrototype.import = function (id, parentUrl) {\r\n    const loader = this;\r\n    return Promise.resolve(loader.resolve(id, parentUrl))\r\n    .then(function (id) {\r\n      const load = getOrCreateLoad(loader, id);\r\n      return load.C || topLevelLoad(loader, load);\r\n    });\r\n  };\r\n\r\n  // Hookable createContext function -> allowing eg custom import meta\r\n  systemJSPrototype.createContext = function (parentId) {\r\n    return {\r\n      url: parentId\r\n    };\r\n  };\r\n\r\n  // onLoad(id, err) provided for tracing / hot-reloading\r\n  systemJSPrototype.onload = function () {};\r\n\r\n  let lastRegister;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    lastRegister = [deps, declare];\r\n  };\r\n\r\n  /*\r\n   * getRegister provides the last anonymous System.register call\r\n   */\r\n  systemJSPrototype.getRegister = function () {\r\n    const _lastRegister = lastRegister;\r\n    lastRegister = undefined;\r\n    return _lastRegister;\r\n  };\r\n\r\n  function getOrCreateLoad (loader, id, firstParentUrl) {\r\n    let load = loader[REGISTRY][id];\r\n    if (load)\r\n      return load;\r\n\r\n    const importerSetters = [];\r\n    const ns = Object.create(null);\r\n    if (toStringTag)\r\n      Object.defineProperty(ns, toStringTag, { value: 'Module' });\r\n    \r\n    let instantiatePromise = Promise.resolve()\r\n    .then(function () {\r\n      return loader.instantiate(id, firstParentUrl);\r\n    })\r\n    .then(function (registration) {\r\n      if (!registration)\r\n        throw new Error('Module ' + id + ' did not instantiate');\r\n      function _export (name, value) {\r\n        // note if we have hoisted exports (including reexports)\r\n        load.h = true;\r\n        let changed = false;\r\n        if (typeof name !== 'object') {\r\n          if (!(name in ns) || ns[name] !== value) {\r\n            ns[name] = value;\r\n            changed = true;\r\n          }\r\n        }\r\n        else {\r\n          for (let p in name) {\r\n            let value = name[p];\r\n            if (!(p in ns) || ns[p] !== value) {\r\n              ns[p] = value;\r\n              changed = true;\r\n            }\r\n          }\r\n        }\r\n        if (changed)\r\n          for (let i = 0; i < importerSetters.length; i++)\r\n            importerSetters[i](ns);\r\n        return value;\r\n      }\r\n      const declared = registration[1](_export, registration[1].length === 2 ? {\r\n        import: function (importId) {\r\n          return loader.import(importId, id);\r\n        },\r\n        meta: loader.createContext(id)\r\n      } : undefined);\r\n      load.e = declared.execute || function () {};\r\n      return [registration[0], declared.setters || []];\r\n    });\r\n\r\n    instantiatePromise = instantiatePromise.catch(function (err) {\r\n        loader.onload(load.id, err);\r\n        throw err;\r\n      });\r\n\r\n    const linkPromise = instantiatePromise\r\n    .then(function (instantiation) {\r\n      return Promise.all(instantiation[0].map(function (dep, i) {\r\n        const setter = instantiation[1][i];\r\n        return Promise.resolve(loader.resolve(dep, id))\r\n        .then(function (depId) {\r\n          const depLoad = getOrCreateLoad(loader, depId, id);\r\n          // depLoad.I may be undefined for already-evaluated\r\n          return Promise.resolve(depLoad.I)\r\n          .then(function () {\r\n            if (setter) {\r\n              depLoad.i.push(setter);\r\n              // only run early setters when there are hoisted exports of that module\r\n              // the timing works here as pending hoisted export calls will trigger through importerSetters\r\n              if (depLoad.h || !depLoad.I)\r\n                setter(depLoad.n);\r\n            }\r\n            return depLoad;\r\n          });\r\n        })\r\n      }))\r\n      .then(function (depLoads) {\r\n        load.d = depLoads;\r\n      });\r\n    });\r\n\r\n    // disable unhandled rejections\r\n    linkPromise.catch(function () {});\r\n\r\n    // Captial letter = a promise function\r\n    return load = loader[REGISTRY][id] = {\r\n      id: id,\r\n      // importerSetters, the setters functions registered to this dependency\r\n      // we retain this to add more later\r\n      i: importerSetters,\r\n      // module namespace object\r\n      n: ns,\r\n\r\n      // instantiate\r\n      I: instantiatePromise,\r\n      // link\r\n      L: linkPromise,\r\n      // whether it has hoisted exports\r\n      h: false,\r\n\r\n      // On instantiate completion we have populated:\r\n      // dependency load records\r\n      d: undefined,\r\n      // execution function\r\n      // set to NULL immediately after execution (or on any failure) to indicate execution has happened\r\n      // in such a case, pC should be used, and pLo, pLi will be emptied\r\n      e: undefined,\r\n\r\n      // On execution we have populated:\r\n      // the execution error if any\r\n      eE: undefined,\r\n      // in the case of TLA, the execution promise\r\n      E: undefined,\r\n\r\n      // On execution, pLi, pLo, e cleared\r\n\r\n      // Promise for top-level completion\r\n      C: undefined\r\n    };\r\n  }\r\n\r\n  function instantiateAll (loader, load, loaded) {\r\n    if (!loaded[load.id]) {\r\n      loaded[load.id] = true;\r\n      // load.L may be undefined for already-instantiated\r\n      return Promise.resolve(load.L)\r\n      .then(function () {\r\n        return Promise.all(load.d.map(function (dep) {\r\n          return instantiateAll(loader, dep, loaded);\r\n        }));\r\n      })\r\n    }\r\n  }\r\n\r\n  function topLevelLoad (loader, load) {\r\n    return load.C = instantiateAll(loader, load, {})\r\n    .then(function () {\r\n      return postOrderExec(loader, load, {});\r\n    })\r\n    .then(function () {\r\n      return load.n;\r\n    });\r\n  }\r\n\r\n  // the closest we can get to call(undefined)\r\n  const nullContext = Object.freeze(Object.create(null));\r\n\r\n  // returns a promise if and only if a top-level await subgraph\r\n  // throws on sync errors\r\n  function postOrderExec (loader, load, seen) {\r\n    if (seen[load.id])\r\n      return;\r\n    seen[load.id] = true;\r\n\r\n    if (!load.e) {\r\n      if (load.eE)\r\n        throw load.eE;\r\n      if (load.E)\r\n        return load.E;\r\n      return;\r\n    }\r\n\r\n    // deps execute first, unless circular\r\n    let depLoadPromises;\r\n    load.d.forEach(function (depLoad) {\r\n      {\r\n        try {\r\n          const depLoadPromise = postOrderExec(loader, depLoad, seen);\r\n          if (depLoadPromise)\r\n            (depLoadPromises = depLoadPromises || []).push(depLoadPromise);\r\n        }\r\n        catch (err) {\r\n          loader.onload(load.id, err);\r\n          throw err;\r\n        }\r\n      }\r\n    });\r\n    if (depLoadPromises) {\r\n      return Promise.all(depLoadPromises)\r\n        .then(doExec)\r\n        .catch(function (err) {\r\n          loader.onload(load.id, err);\r\n          throw err;\r\n        });\r\n    }\r\n\r\n    return doExec();\r\n\r\n    function doExec () {\r\n      try {\r\n        let execPromise = load.e.call(nullContext);\r\n        if (execPromise) {\r\n          execPromise = execPromise.then(function () {\r\n              load.C = load.n;\r\n              load.E = null; // indicates completion\r\n              loader.onload(load.id, null);\r\n            }, function () {\r\n              loader.onload(load.id, err);\r\n              throw err;\r\n            });\r\n          execPromise.catch(function () {});\r\n          return load.E = load.E || execPromise;\r\n        }\r\n        // (should be a promise, but a minify optimization to leave out Promise.resolve)\r\n        load.C = load.n;\r\n        loader.onload(load.id, null);\r\n      }\r\n      catch (err) {\r\n        loader.onload(load.id, err);\r\n        load.eE = err;\r\n        throw err;\r\n      }\r\n      finally {\r\n        load.L = load.I = undefined;\r\n        load.e = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  envGlobal.System = new SystemJS();\n\n  /*\r\n   * Supports loading System.register via script tag injection\r\n   */\r\n\r\n  let err$1;\r\n  if (typeof window !== 'undefined')\r\n    window.addEventListener('error', function (e) {\r\n      err$1 = e.error;\r\n    });\r\n\r\n  const systemRegister = systemJSPrototype.register;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    err$1 = undefined;\r\n    systemRegister.call(this, deps, declare);\r\n  };\r\n\r\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\r\n    const loader = this;\r\n    return new Promise(function (resolve, reject) {\r\n      const script = document.createElement('script');\r\n      script.charset = 'utf-8';\r\n      script.async = true;\r\n      script.crossOrigin = 'anonymous';\r\n      script.addEventListener('error', function () {\r\n        reject(new Error('Error loading ' + url + (firstParentUrl ? ' from ' + firstParentUrl : '')));\r\n      });\r\n      script.addEventListener('load', function () {\r\n        document.head.removeChild(script);\r\n        // Note URL normalization issues are going to be a careful concern here\r\n        if (err$1)\r\n          return reject(err$1);\r\n        else\r\n          resolve(loader.getRegister());\r\n      });\r\n      script.src = url;\r\n      document.head.appendChild(script);\r\n    });\r\n  };\n\n  /*\r\n   * Supports loading System.register in workers\r\n   */\r\n\r\n  if (hasSelf && typeof importScripts === 'function')\r\n    systemJSPrototype.instantiate = function (url) {\r\n      const loader = this;\r\n      return new Promise(function (resolve, reject) {\r\n        try {\r\n          importScripts(url);\r\n        }\r\n        catch (e) {\r\n          reject(e);\r\n        }\r\n        resolve(loader.getRegister());\r\n      });\r\n    };\n\n  /*\r\n   * SystemJS global script loading support\r\n   * Extra for the s.js build only\r\n   * (Included by default in system.js build)\r\n   */\r\n  (function (global) {\r\n\r\n  const systemJSPrototype = System.constructor.prototype;\r\n\r\n  // safari unpredictably lists some new globals first or second in object order\r\n  let firstGlobalProp, secondGlobalProp, lastGlobalProp;\r\n  function getGlobalProp () {\r\n    let cnt = 0;\r\n    let lastProp;\r\n    for (let p in global) {\r\n      if (!global.hasOwnProperty(p))\r\n        continue;\r\n      if (cnt === 0 && p !== firstGlobalProp || cnt === 1 && p !== secondGlobalProp)\r\n        return p;\r\n      cnt++;\r\n      lastProp = p;\r\n    }\r\n    if (lastProp !== lastGlobalProp)\r\n      return lastProp;\r\n  }\r\n\r\n  function noteGlobalProps () {\r\n    // alternatively Object.keys(global).pop()\r\n    // but this may be faster (pending benchmarks)\r\n    firstGlobalProp = secondGlobalProp = undefined;\r\n    for (let p in global) {\r\n      if (!global.hasOwnProperty(p))\r\n        continue;\r\n      if (!firstGlobalProp)\r\n        firstGlobalProp = p;\r\n      else if (!secondGlobalProp)\r\n        secondGlobalProp = p;\r\n      lastGlobalProp = p;\r\n    }\r\n    return lastGlobalProp;\r\n  }\r\n\r\n  const impt = systemJSPrototype.import;\r\n  systemJSPrototype.import = function (id, parentUrl) {\r\n    noteGlobalProps();\r\n    return impt.call(this, id, parentUrl);\r\n  };\r\n\r\n  const emptyInstantiation = [[], function () { return {} }];\r\n\r\n  const getRegister = systemJSPrototype.getRegister;\r\n  systemJSPrototype.getRegister = function () {\r\n    const lastRegister = getRegister.call(this);\r\n    if (lastRegister)\r\n      return lastRegister;\r\n    \r\n    // no registration -> attempt a global detection as difference from snapshot\r\n    // when multiple globals, we take the global value to be the last defined new global object property\r\n    // for performance, this will not support multi-version / global collisions as previous SystemJS versions did\r\n    // note in Edge, deleting and re-adding a global does not change its ordering\r\n    const globalProp = getGlobalProp();\r\n    if (!globalProp)\r\n      return emptyInstantiation;\r\n    \r\n    let globalExport;\r\n    try {\r\n      globalExport = global[globalProp];\r\n    }\r\n    catch (e) {\r\n      return emptyInstantiation;\r\n    }\r\n\r\n    return [[], function (_export) {\r\n      return { execute: function () { _export('default', globalExport); } };\r\n    }];\r\n  };\r\n\r\n  })(typeof self !== 'undefined' ? self : global);\n\n  /*\r\n   * Loads WASM based on file extension detection\r\n   * Assumes successive instantiate will handle other files\r\n   */\r\n  const instantiate = systemJSPrototype.instantiate;\r\n  systemJSPrototype.instantiate = function (url, parent) {\r\n    if (url.slice(-5) !== '.wasm')\r\n      return instantiate.call(this, url, parent);\r\n    \r\n    return fetch(url)\r\n    .then(function (res) {\r\n      if (!res.ok)\r\n        throw new Error(res.status + ' ' + res.statusText + ' ' + res.url + (parent ? ' loading from ' + parent : ''));\r\n\r\n      if (WebAssembly.compileStreaming)\r\n        return WebAssembly.compileStreaming(res);\r\n      \r\n      return res.arrayBuffer()\r\n      .then(function (buf) {\r\n        return WebAssembly.compile(buf);\r\n      });\r\n    })\r\n    .then(function (module) {\r\n      const deps = [];\r\n      const setters = [];\r\n      const importObj = {};\r\n\r\n      // we can only set imports if supported (eg early Safari doesnt support)\r\n      if (WebAssembly.Module.imports)\r\n        WebAssembly.Module.imports(module).forEach(function (impt) {\r\n          const key = impt.module;\r\n          setters.push(function (m) {\r\n            importObj[key] = m;\r\n          });\r\n          if (deps.indexOf(key) === -1)\r\n            deps.push(key);\r\n        });\r\n\r\n      return [deps, function (_export) {\r\n        return {\r\n          setters: setters,\r\n          execute: function () {\r\n            return WebAssembly.instantiate(module, importObj)\r\n            .then(function (instance) {\r\n              _export(instance.exports);\r\n            });\r\n          }\r\n        };\r\n      }];\r\n    });\r\n  };\n\n  /*\r\n   * Package name map support for SystemJS\r\n   * \r\n   * <script type=\"systemjs-packagemap\">{}</script>\r\n   * OR\r\n   * <script type=\"systemjs-packagemap\" src=package.json></script>\r\n   * \r\n   * Only supports loading the first package map\r\n   */\r\n\r\n  let packageMapPromise, packageMapResolve;\r\n  if (typeof document !== 'undefined') {\r\n    const scripts = document.getElementsByTagName('script');\r\n    for (let i = 0; i < scripts.length; i++) {\r\n      const script = scripts[i];\r\n      if (script.type !== 'systemjs-packagemap')\r\n        continue;\r\n\r\n      if (!script.src) {\r\n        packageMapResolve = createPackageMap(JSON.parse(script.innerHTML), baseUrl);\r\n        packageMapPromise = Promise.resolve();\r\n      }\r\n      else {\r\n        packageMapPromise = fetch(script.src)\r\n        .then(function (res) {\r\n          return res.json();\r\n        })\r\n        .then(function (json) {\r\n          packageMapResolve = createPackageMap(json, script.src);\r\n          packageMapPromise = undefined;\r\n        }, function () {\r\n          packageMapResolve = throwBare;\r\n          packageMapPromise = undefined;\r\n        });\r\n      }\r\n      break;\r\n    }\r\n  }\r\n  if (!packageMapPromise)\r\n    packageMapResolve = throwBare;\r\n\r\n  systemJSPrototype.resolve = function (id, parentUrl) {\r\n    parentUrl = parentUrl || baseUrl;\r\n\r\n    const resolvedIfNotPlainOrUrl = resolveIfNotPlainOrUrl(id, parentUrl);\r\n    if (resolvedIfNotPlainOrUrl)\r\n      return resolvedIfNotPlainOrUrl;\r\n    if (id.indexOf(':') !== -1)\r\n      return id;\r\n\r\n    // now just left with plain\r\n    // (if not package map, packageMapResolve just throws)\r\n    if (packageMapPromise)\r\n      return packageMapPromise\r\n      .then(function () {\r\n        return packageMapResolve(id, parentUrl);\r\n      });\r\n\r\n    return packageMapResolve(id, parentUrl);\r\n  };\n\n  systemJSPrototype.get = function (id) {\r\n    const load = this[REGISTRY][id];\r\n    if (load && load.e === null && !load.E) {\r\n      if (load.eE)\r\n        return null;\r\n      return load.n;\r\n    }\r\n  };\r\n\r\n  // Delete function provided for hot-reloading use cases\r\n  systemJSPrototype.delete = function (id) {\r\n    const load = this.get(id);\r\n    if (load === undefined)\r\n      return false;\r\n    // remove from importerSetters\r\n    // (release for gc)\r\n    if (load && load.d)\r\n      load.d.forEach(function (depLoad) {\r\n        const importerIndex = depLoad.i.indexOf(load);\r\n        if (importerIndex !== -1)\r\n          depLoad.i.splice(importerIndex, 1);\r\n      });\r\n    return delete this[REGISTRY][id];\r\n  };\n\n}());\n"]}